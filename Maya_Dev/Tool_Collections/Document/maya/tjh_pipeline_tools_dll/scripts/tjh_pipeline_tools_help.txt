====================================
Coded by tiancg on March 2013-2019
programmer：tiancg
====================================

一、系统介绍：

    tjh_pipeline_tools 1.1.5  Maya插件工具盒，专为大、中、小型动画团队提供技术储备、快速流程工具共享服务！影视动画团队都需要统一流程规范，作为插件工具更需要快速共享。不过毕竟不是所有公司都能长期雇佣TD技术开发人才，随着人员离职，技术全部丢失，工具被人带走，一下回到解放前，哈哈，所以很多团队几乎没有技术储备概念。只靠临时招人，全靠老天帮忙，阿弥陀佛。本文初衷，希望为普通动画人员和团队提供技术储备解决方案！

二、系统特点及优势：

1、一键式 本地及网络发布、安装、卸载。安装大型工具集变得如此简单了。
2、外部插件的快速导入生产流程、分享。工具盒免重启maya，便可快速更新组件，节约技术发布时间。
3、模块流程的快速定制。插件允许用户自定义流程菜单，修改菜单命令显示状态、增减模块功能等操作。

三、具体使用教程

一）本地电脑 安装 与卸载方法：

1、解压插件包到非中文路径的文件夹或个目录下。
2、打开maya 软件，将插件根目录上的setup.mel 拖到maya视图中，即可安装完毕。
弹出安装成功提示，重启maya。

3、只需第一次安装 或 卸载时重启Maya，即可看到主窗口上菜单多了 TJH Pipeline Tools 主菜单,恭喜安装成功！
4、卸载方法，将插件根目录上的 unInstall.mel 拖到maya视图中，即可卸载完毕。

二）网络 安装与卸载方法：

1、在服务器或本地上建立一个只读权限的共享映射盘。将插件解压目录拷贝其下。注意：路径中不能包含中文，maya自身对中文路径支持不好。
2、在链接服务器局域网的用户电脑中，打开共享映射盘。将插件根目录上的setup.mel 拖到maya视图中，即可安装完毕。
3、删除插件方法 与本地安装同理。
注意：插件安装后，自动加载主菜单，使用C:\Users\Administrator\Documents\maya\scripts的 userSetup.mel 文件命令。如果其他插件占用了这个文件，maya就不能自动加载主菜单了。
手动加载菜单的方法是：在maya等mel命令栏或脚本编辑器中，输入source tjh_tools_pipeline.mel; tjh_tools_pipeline; 回车即可。也可以把这两句加到现有userSetup.mel 文件最后，已保证其他插件正常兼容运行。

三）外部插件导入方法：    *.mel  和 （tjh插件格式专用）*.dll 两种格式

1、tjh 专用 *.dll 插件导入方法：

1）解压插件压缩包。如下图。
2）直接把 lib 或 plug-ins 文件夹中* .dll 文件拷贝到工具盒 模块文件夹即可，其他文件不用拷贝。简单吧，阿弥陀佛。哈哈！
3）点击主菜单 ：：：Updata UI ：：：菜单命令，更新插件菜单，完成了。无需重启maya！

2、maya mel 类：指其他第三方开发的mel插件导入

1）请将要添加的mel程序，拷贝到对应分类的文件夹中。mel名称为英文。mel脚本名,以tjh_test.mel文件为例，要与插件UI界面主程序名一致，以便菜单命令调用UI界面。代码如下：
global proc tjh_test()

{ 

     ... ui 具体的代码 或第三方插件主程序调用代码....省略； 

}

此mel中不可以在全局程序外含有程序调用代码  tjh_test;  否则系统会在刷新时启动插件ui界面，造成中断。如下方式是错误的，切忌！

global proc tjh_test()

{ 

     ... ui 具体的代码....省略； 

}

 tjh_test;      //此句在这里是错误的，会造成工具盒启动时出错。

2）每个插件mel程序应提供如下文件规范：

a）tjh_test.mel //插件UI文件  菜单中的命令名为会显示为 tjh_test，此mel中的同名全局程序定义格式如下：
b）tjh_test.txt //建立一个与mel同名的txt帮助文档，其中加入插件说明文字。
c）tjh_test.source.mel.... //如果主UI mel外还有其他mel依赖库文件调用，可以把他们添加到同级目录中，改为三级点文件名，这样工具盒及可以忽略其在菜单中显示, 而制作为依赖库source调用。文件组织结构如下：

  tjh_test.mel // 主UI调用mel
  tjh_test.txt // 帮助文档
  tjh_test.makeModel.mel // 主UI依赖库调用mel
  tjh_test.addShader.mel // 主UI依赖库调用mel
  tjh_test.render.mel // 主UI依赖库调用mel
...

 

四）高级操作教程：
 

1、插件快速搜索。点击主菜单 Quick Search Command... 命令，可以弹出插件搜索窗口快速查找插件。 
2、子模块开关系统，用于提高系统加载速度。不需要的模块不加载。比如：模型组不需要动画组功能，此处可以取消勾选，下次不加载。
3、通过网络安装此插件后，管理员依据规则添加新mel工具后，可动态更新，不必重启maya，即可实现全组插件更新，加速工作流程。
4、实时查看mel命令源码及帮助信息。通过帮助窗口菜单，可及时修改，查找编辑mel插件和帮助信息，完后要保存，并关闭文本编辑器。否则maya处于锁定状态。（此操作需具有管理员权限，因为要作服务器写操作）
5. 编辑 mel 和 txt 帮助文件：(此功能为注册版功能，试用版无效)
 
	1）点击工具选项菜单，弹出帮助窗口。
	2）在弹出帮助信息Edit菜单中 ，点击Edit this mel script菜单，即可调出文本编辑器，编辑脚本内容。
	3）编辑完后，要保存脚本并关闭，才能回复maya正常状态。

6、自定义模块目录添加方法

注意：本操作如果是在服务器上安装插件，需要具有服务器改写权限，如果是本地安装，需要本机管理员权限。
	1)在模块scripts 目录下用文本工具打开tjh_tools_modules.setting文件，在其中添加<模块名：状态>每个模块之间用单个空格分开即可。同时添加对应模块名的空文件夹。模块名为主菜单下对应的各模块菜单名，状态为各菜单显示与隐藏状态。

模块顺序会按照设置文件中的先后顺序依次导入。例如：
common:on model:on uv:on texture:off ...

	2)on 和 off 为模块导入的初始状态。其目的是为了加速插件的导入速度，如果插件过多，会减慢maya开启速度。而并非所有功能都使用每个人。建模师可以只是用模型材质相关功能。而特效师可以只开启特效相关内容。
模块的导入时动态的。当改变设置后，可以实时的updata UI更新UI，不必重启maya。



四、插件下载：
         
       插件免费下载地址：链接：http://pan.baidu.com/s/1mhAY0vI 密码：d0ne 
 
五. 版本更新说明：

1）v1.1.5 : 2019-07-11  
    <1>.修复了诸多bug。
    <2>.增加了maya 模块路径显示菜单，以及流程系统脚本自身编辑菜单，可以快速修改流程脚本。
    <3>.内置了开源脚本编辑器 notepad64，方便maya mel脚本编辑。
    <4>.整合了十多年来所有tjh开发的原创mel插件，很多还没有能够公布教程，等待何时机缘吧，阿弥陀佛，哈哈。    
    <5>.整合了其他很多免费的mel插件，方便大家使用。
    <6>.tjh_whatIs 程序方法更新，程序位置查找算法。
    <7>.添加用户注册系统。简化了加密打包dll算法。修改$tjh_pulicToDll变量，统一设置发布mel与dll方式。
    <8>.修复了ui更新崩溃问题，启用了evalDeffered算法。 

2） v1.0.3: 2017-02-24 
    增加了快速插件运行、编辑、帮助等快速启动按钮。

3）v1.0.2: 2016-08-11  
    <1>、增加了快速查找工具中的，命令模块分类显示功能。
    <2>、更新了查找命令的大小写模糊判断功能。不再区分大小写。

------------------------
南无阿弥陀佛